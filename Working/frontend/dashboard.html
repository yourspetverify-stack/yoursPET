<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Expense Tracker - Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="main-page">
    <div class="dashboard-bg">
        <aside class="sidebar" style="background: rgba(255, 255, 255, 0.12); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px); border-right: none; border-left: 1px solid rgba(255, 255, 255, 0.3); border-top: 1px solid rgba(255, 255, 255, 0.3); border-bottom: 1px solid rgba(255, 255, 255, 0.3); border-radius: 20px 0 0 20px; box-shadow: inset 2px 2px 25px 4px rgba(249, 233, 233, 0.15); ">
            <div class="profile">
                <img src="https://www.w3schools.com/howto/img_avatar.png" alt="Profile" class="profile-img" />
                <span class="profile-name" id="profile-name" style="color: white;"></span>
            </div>
            <div class="sidebar-tab active" id="dashboard-tab">üè† Dashboard</div>
            <div class="sidebar-tab" id="transactions-tab">üìã Update Transaction</div>
            <div class="sidebar-tab" id="budgets-tab">üí∞ Your Budgets</div>
            <div class="sidebar-tab" id="reports-tab">üìä Reports</div>
            <button class="sidebar-btn" style="font-family: Cambria;">Log out</button>
        </aside>
        <main class="main-content" style="background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border-radius: 0 20px 20px 0px; border: 1px solid rgba(255, 255, 255, 0.3); border-left: none; box-shadow: inset 2px 2px 25px 4px rgba(249, 233, 233, 0.15);">
            <div id="dashboard-notify" style="margin:16px 0; margin-top: -12px;"></div>
            <div class="main-content-scroll">
                <header class="main-header" style="margin-top:0;align-items:flex-start;min-width:900px;">
                    <div style="display:flex;align-items:center;justify-content:space-between;width:100%;margin-top: -20px;">
                        <div style="display:flex;flex-direction:row;align-items:center;margin-top: -50px;">
                            <img src="logo1.png" alt="Logo" class="dashboard-logo" style="width:120px;height:120px;border-radius:50%;margin-bottom:8px;margin-top: 58px;margin-left: -10px;">
                            <h2 style="margin-top:30px;margin-bottom:0; margin-left:10px; font-family: sans-serif; color: rgb(245, 241, 241);">Welcome to Yours Personal Expense Tracker !</h2>
                        </div>
                        <div class="header-actions" style="display:flex;align-items:center;gap:16px;">
                            <input type="text" class="search" placeholder="Search Transactions..." style="margin-right: -20px; margin-top: 10px;
                            width: 300px;" />
                            <span id="header-username" style="font-weight:600;margin-right:8px;"></span>
                            <div id="search-popup" style="display:none;position:absolute;left: 25px;
                            right: -65px;
                            top: 60px;z-index:2000;background:#fff;border-radius:10px;box-shadow:0 2px 12px #0002;padding:4px 4px;min-width:130px;max-width:280px;"></div>
                            <span class="notif" id="notif-icon" style="cursor:pointer;margin-right: -70px;margin-top: 10px;position:relative;">üîî<span id="notif-badge" style="display:none;position:absolute;top:-3px;right:-0px;background:#f89617;color:#fff;padding:0px 5px;border-radius:10px;
                            height: 24px;width: 10px;font-size:0.65em;font-weight:600;box-shadow:0 1px 4px #0002;"></span></span>
                            <div id="notif-popup" style="display:none;position:absolute;top:70px;right:-05px;width:100%;background:#fff;border-radius:12px;box-shadow:0 2px 12px #0002;padding:16px 24px;min-width:260px;max-width:400px;font-size:1rem;z-index:1000;"></div>
                        </div>
                    </div>
                </header>
                <div class="scroll-x-wrapper" style="width:100%;overflow-x:auto;">
                    <section class="charts" style="min-width:900px;width:max-content;">
                        <div class="monthly-chart" style="background: rgba(255, 255, 255,0.95); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 2px solid rgba(255, 255, 255, 0.4); border-radius: 16px; box-shadow: inset 0px 2px 40px rgba(0, 0, 0, 0.5); margin-left: 15px; padding-left: 25px; padding-top: 25px; padding-bottom: 25px;">
                            <div class="main-chart" style="width: 1100px;">
                                <span class="chart-title" style="margin-left: 10px; font-family: sans-serif; font-weight: bold; font-size: 20px; color: rgb(5, 5, 5);">Monthly Tracker</span>
                                <canvas id="mainAreaChart" width="1100" height="450"></canvas>
                            </div>
                        </div>
                        <div class="sub-charts" style="display:flex;gap:32px;">
                            <div class="spending-chart" style="background: rgba(255, 255, 255,0.95); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 2px solid rgba(255, 255, 255, 0.4); border-radius: 16px; box-shadow: inset 0px 2px 40px rgba(0, 0, 0, 0.5); margin-left: 15px;">
                                <div>
                                    <span class="chart-title" style="margin-left: 10px; font-family: sans-serif; font-weight: bold; font-size: 20px;">Categorized Expenses</span>
                                    <canvas id="categoryPieChart" width="510" height="410" style="margin-top: 20px;"></canvas>
                                </div>
                            </div>
                            <div class="bar-line-chart" style="background: rgba(255, 255, 255,0.95); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 2px solid rgba(255, 255, 255, 0.4); border-radius: 16px; box-shadow: inset 0 2px 40px rgba(0, 0, 0, 0.5); margin-left: 15px;">
                                <span class="chart-title" style="margin-left: 10px; font-family: sans-serif; font-weight: bold; font-size: 20px;">Budgets vs Transactions</span>
                                <canvas id="budgetsBarChart" width="490" height="410" style="margin-top: 20px;"></canvas>
                            </div>
                        </div>
                    </section>
                </div>
                <!-- Transactions section modal -->
                <div id="transactions-modal" class="modal-backdrop" style="display:none;">
                    <div class="modal-content" style="margin-top: 100px;">
                        <div class="modal-header">
                            <span style="font-family: sans-serif;">Transactions</span>
                            <button id="close-transactions" class="close-btn">&times;</button>
                        </div>
                        <form id="transaction-form">
                            <input id="trans-desc" type="text" required placeholder="Description" />
                            <input id="trans-amount" type="number" required placeholder="Amount" />
                            <select id="trans-category" required>
                                <option value="">Category</option>
                                <option value="Food">Food</option>
                                <option value="Education">Education</option>
                                <option value="Clothes">Clothes</option>
                                <option value="Transport">Transport</option>
                                <option value="Entertainment">Entertainment</option>
                                <option value="Health">Health</option>
                                <option value="Property">Property</option>
                                <option value="Others">Others</option>
                            </select>
                            <button type="submit">Add</button>
                        </form>
                        <table class="modal-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Category</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="transactions-body"></tbody>
                        </table>
                    </div>
                </div>
                <!-- Budgets section modal -->
                <div id="budgets-modal" class="modal-backdrop" style="display:none; padding-left: 290px;">
                    <div class="transactions-modal-content" style="margin-right: 280px; margin-top: -450px;">
                        <span class="close-modal" id="close-budgets">&times;</span>
                        <h2 style="font-family: sans-serif;">Budgets</h2>
                        <form id="budget-form">
                            <div style="display:flex;flex-direction:column;align-items:flex-start;">
                                <span style="font-weight:600;margin-bottom:4px;">Weekly</span>
                                <input type="number" id="weekly-budget" placeholder="Weekly Budget" min="0">
                            </div>
                            <div style="display:flex;flex-direction:column;align-items:flex-start;">
                                <span style="font-weight:600;margin-bottom:4px;">Monthly</span>
                                <input type="number" id="monthly-budget" placeholder="Monthly Budget" min="0">
                            </div>
                            <div style="display:flex;flex-direction:column;align-items:flex-start;">
                                <span style="font-weight:600;margin-bottom:4px;">Annual</span>
                                <input type="number" id="annual-budget" placeholder="Annual Budget" min="0">
                            </div>
                            <button type="submit" id="update-budget-btn">Update</button>
                        </form>
                        <table class="budget-summary-table" style="width:100%;margin-top:16px;">
                            <thead>
                                <tr>
                                    <th style="color:#2e8fff;text-align:left;">Budget Type</th>
                                    <th style="color:#2e8fff;text-align:left;">Amount</th>
                                </tr>
                            </thead>
                            <tbody id="budget-summary"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!-- Reports section modal -->
    <div id="reports-modal" style="display:none;">
        <div class="reports-modal-content">
            <button id="close-reports" class="close-modal" aria-label="Close">&times;</button>
            <h2 style="margin-top:0; font-family: sans-serif;">Reports</h2>
            <div class="reports-subtitle" style="font-family: sans-serif;">Transactions vs Budgets</div>
            <table class="reports-table">
                <thead>
                    <tr>
                        <th>Period</th>
                        <th>Transactions</th>
                        <th>Budget</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- JS will fill this -->
                </tbody>
            </table>
        </div>
    </div>
</div>
<script src="dashboard.js"></script>
</body>
</html>